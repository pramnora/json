<DOCTYPE html>
<html lang="en"><!--html section/start-->
<!--Comments section/start...
       Program: Database Application/Phonebook records
      Language: Javascript/JSON-JavaScript Object Notation
      
      Computer: Desktop PC
            OS: Windows 10
        Editor: Notepad  

        Author: Paul Ramnora
         Email: paul@ramnora.com
     Copyright: Mr. Paul Ramnora./All rights reserved.

       Created: 08:06 02/10/2016
       Updated: 13:57 02/10/2016
...Comments section/end-->
 <head><!--head section/start-->
  <meta charset="UTF-8" />
  <title>JSON Phonebook</title>
<!--stylesheet code/start-->
  <style type="text/css">
body{font-family:arial,verdana,sans-serif;}
header{text-align:center;}
input#btn1{
 background-color:silver;
            color:black;
           border:solid 1px black; 
}
hr{width:50%;}
  </style>
<!--stylesheet code/end-->
 </head><!--head section/end-->
 <body><!--body section/start-->
  <header>
   <h1>JSON Phonebook</h1><!--html code: title heading text-->
   <div><!--html code: buttons section/start-->
    <input id="btnBusiness" type="button" value="Business" />
    <input id="btnFamily"   type="button" value="Family" />
    <input id="btnFriends"  type="button" value="Friends" />
    <input id="btnAll"      type="button" value="Show ALL" />
   </div><!--html code: buttons section/end-->
  </header>
  <hr />
  <!--html code: output section/start-->
  <div id="divOutput"></div>
  <!--html code: output section/end-->
  <!--javascript code/start-->
<script type="text/javascript">
//---------------------------------------------------------------------------------
//*** JSON DATA section/start... 
var myPhonebookObj = {
 "records":[
  {
   "recordNo" : "1",
   "category" : "Business",
   "name"     : "Name 1" , 
   "phoneNo"  : "01"
  },
  {
   "recordNo" : "2",
   "category" : "Family",
   "name"     : "Name 2" ,
   "phoneNo"  : "02"
  },
  {
   "recordNo" : "3",
   "category" : "Friend",
   "name"     : "Name 3" , 
   "phoneNo"  : "03"
  },
  {
   "recordNo" : "4",
   "category" : "Friend",
   "name"     : "Name 4" , 
   "phoneNo"  : "04"
  },
  {
   "recordNo" : "5",
   "category" : "Friend",
   "name"     : "Name 5" , 
   "phoneNo"  : "05"
  }
 ]
};
//...JSON DATA section/end ***
//---------------------------------------------------------------------------------
//*** Global variables...
//---------------------------------------------------------------------------------
var divOutput           = document.getElementById("divOutput"),
    intTotalNoOfRecords = 5,
    intRecordsCounterNo = 0;
    strCategory         = "";
//---------------------------------------------------------------------------------
//*** Find out which button was pressed...
//---------------------------------------------------------------------------------
document.getElementById("btnBusiness").onclick = function(){doOutputDisplay("Business")};
document.getElementById("btnFamily").onclick   = function(){doOutputDisplay("Family")};
document.getElementById("btnFriends").onclick  = function(){doOutputDisplay("Friend")};
document.getElementById("btnAll").onclick      = function(){doOutputDisplay("All")};
//---------------------------------------------------------------------------------
//*** Global functions...
//---------------------------------------------------------------------------------
function doOutputDisplay(strCategory){
 intRecordsCounterNo = 0;
 clearOutputDisplay();
 showTableHeadings();
 for (var intEachRecordNo = 0; intEachRecordNo < myPhonebookObj.records.length; intEachRecordNo ++){
  if (strCategory == "All") { //...display all records...
   showASelectedRecord(intEachRecordNo);
   intRecordsCounterNo += 1;
  } else {                    //...display only selected records...
   if (myPhonebookObj.records[intEachRecordNo].category == strCategory) {
    showASelectedRecord(intEachRecordNo);
    intRecordsCounterNo += 1;
   }
  }
 }
 showEOFMessage(strCategory);
}
//*** Show record...
function clearOutputDisplay(){
  divOutput.innerHTML = "";  
}
function showTableHeadings(){
  divOutput.innerHTML +="<center><table border='0' width='75%'>"
                      + "<tr align='center' style='background-color:black;color:white'>"
                      + "<th width='10%'>Record<br /> No</th>"
                      + "<th width='30%'>Category</th>"
                      + "<th width='30%'>Name</th>"
                      + "<th width='30%'>Phone No.</th>"
                      + "</tr></table></center>"
}
function showASelectedRecord(intASelectedRecordNo){
  divOutput.innerHTML += "<center><table border='0' width='75%'><tr align='center' style='background-color:silver;'>"
                      + "<td width='10%'>" + myPhonebookObj.records[intASelectedRecordNo].recordNo + "</td>"
                      + "<td width='30%'>" +  myPhonebookObj.records[intASelectedRecordNo].category + "</td>" 
                      + "<td width='30%'>" +  myPhonebookObj.records[intASelectedRecordNo].name + "</td>"
                      + "<td width='30%'>" +  myPhonebookObj.records[intASelectedRecordNo].phoneNo + "</td>"
                      + "</tr></table></center>"
}
function showEOFMessage(strCategory){
  divOutput.innerHTML += "<hr />"
                      + "<p align='center'>-End of file</p>"
                      + "<hr />"
                      + "<pre>"
                      + "            Search term: " + strCategory
                      + "<br />"
                      + "Number of matches found: " + intRecordsCounterNo
                      + "<br />"
                      + "Total number of records: " + intTotalNoOfRecords 
                      + "</pre>"
}
//---------------------------------------------------------------------------------
</script>
  <!--javascript code/end-->
 </body><!--body section/end-->
</html><!--html code/end-->
